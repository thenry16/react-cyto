#  Towards Trusted DCR Choreographies
This code implements the proof-of-concept presented in the paper <em>Towards Trusted DCR Choreographies</em> submitted for the Coopis'20 conference. 
This portal projects an input global DCR choreography over each tenant view. 
- The shared public tasks are gathered together in a public DCR graph. The later is compiled and updated in the blokchain for trust purposes. 
- The tenant projections are updated locally for privacy concerns. Each one of the incorporated public tasks communicates with the blockchain-based DCR graph. 


## Input DCR
The global DCR textual description can be found under inputExample.tex

## The DCR portal

### Algorithms
The projection and bitvector algorithms can be found in the folder ./api/src/
The generated data is stored under ./src/projections/


### Installation
Run <code>sh install.sh</code>.

### Running the code
To run the code in a development environment,

Make sure you have (i) ganache-cli installed (npm install -g ganache-cli) on your machine, and (ii) Metamask installed on your favorite browser.

1) Launch the front end, back-end, compiled contract and ganache client with 
<code>sh launch.sh</code>. 

2) Set up Metamask: listen to the port localhost:8545, and import one of the accounts generated by ganache (copy-paste one of the private key addresses under the import account item of Metamask).

3) go to the truffle terminal and run <code>truffle migrate</code> to migrate the contract


The app runs on http://localhost:3000. You're now set to go !
